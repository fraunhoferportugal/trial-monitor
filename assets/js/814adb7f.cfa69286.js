"use strict";(self.webpackChunktm_docs=self.webpackChunktm_docs||[]).push([[819],{7417:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>h});var r=t(5893),a=t(1151);const i={id:"fhir",title:"FHIR"},s=void 0,o={id:"Data Connectors/fhir",title:"FHIR",description:"The FHIR connector currently only supports Hapi FHIR implementation of the HL7 FHIR standard (version R4). In this connector, the field table links to the resources from the FHIR standard and for each one we use the search endpoints to retrieve the data, using the available and compatible filters if desired.",source:"@site/docs/02-Data Connectors/fhir.md",sourceDirName:"02-Data Connectors",slug:"/Data Connectors/fhir",permalink:"/trial-monitor/Data Connectors/fhir",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"fhir",title:"FHIR"},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/trial-monitor/Data Connectors/overview"},next:{title:"Firebase",permalink:"/trial-monitor/Data Connectors/firebase"}},c={},h=[{value:"Database configuration",id:"database-configuration",level:2},{value:"Config",id:"config",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Data search",id:"data-search",level:2},{value:"Example",id:"example",level:4}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The FHIR connector currently only supports ",(0,r.jsx)(n.a,{href:"https://hapifhir.io",children:"Hapi FHIR"})," implementation of the ",(0,r.jsx)(n.a,{href:"http://hl7.org/fhir/",children:"HL7 FHIR"})," standard (version R4). In this connector, the field ",(0,r.jsx)(n.code,{children:"table"})," links to the ",(0,r.jsx)(n.a,{href:"https://www.hl7.org/fhir/resourcelist.html",children:"resources"})," from the FHIR standard and for each one we use the ",(0,r.jsx)(n.a,{href:"https://www.hl7.org/fhir/search.html",children:"search"})," endpoints to retrieve the data, using the available and compatible filters if desired."]}),"\n",(0,r.jsx)(n.h2,{id:"database-configuration",children:"Database configuration"}),"\n",(0,r.jsxs)(n.p,{children:["To use this connector with an Hapi FHIR API, you need to configure the connection in the ",(0,r.jsx)(n.code,{children:"site.yaml"})," file."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- id: database_fhir\n    type: fhir\n    subtype: hapi\n    config:\n      url: http://hapi.fhir.org/baseR4\n    authentication:\n      username: myusername\n      password: mypassword\n    users: ...\n"})}),"\n",(0,r.jsx)(n.h3,{id:"config",children:"Config"}),"\n",(0,r.jsxs)(n.p,{children:["The data access is done by defining a property ",(0,r.jsx)(n.code,{children:"config"}),". This property only requires an ",(0,r.jsx)(n.code,{children:"url"})," which indicates where the Hapi Server can be accessed."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"config:\n  url: http://hapi.fhir.org/baseR4\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Make sure that the URL does not end with ",(0,r.jsx)(n.code,{children:"/"})," and that a resource can be searched by ",(0,r.jsx)(n.code,{children:"{url}/{resource}"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsx)(n.p,{children:"Since Hapi FHIR APIs' can require an Authorization header, the connector allows you to specify a Basic authentication (username and password) or Bearer authentication (bearer token)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"authentication:\n  username: myusername\n  password: mypassword\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"authentication:\n  bearer: mytoken\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If the ",(0,r.jsx)(n.code,{children:"authentication"})," property is not provided, Trial Monitor it will try to request data from the API without authentication."]}),"\n",(0,r.jsx)(n.h2,{id:"data-search",children:"Data search"}),"\n",(0,r.jsxs)(n.p,{children:["Since in the FHIR standard the values to get can be nested inside multiple objects, in this connector de values can be obtained by specifying the properties of each object separated by ",(0,r.jsx)(n.code,{children:"."}),". This can be used in ",(0,r.jsx)(n.code,{children:"fields"}),", ",(0,r.jsx)(n.code,{children:"target"})," and ",(0,r.jsx)(n.code,{children:"groupby"})," properties."]}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(n.p,{children:["In this example ",(0,r.jsx)(n.code,{children:"fields: [valueQuantity.value]"})," will retrieve the value ",(0,r.jsx)(n.code,{children:"12"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  ...\n  "entry": [\n    {\n      "fullUrl": "http://localhost:8080/fhir/Observation/102",\n      "resource": {\n        "resourceType": "Observation",\n        "subject": {\n          "reference": "Patient/52"\n        },\n        "valueQuantity": {\n          "value": 12,\n          "unit": "kg"\n        }\n        ...\n      },\n      ...\n    },\n    ...\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsxs)(n.p,{children:["The names for the fields and the targets may vary. Check this ",(0,r.jsx)(n.a,{href:"http://hapi.fhir.org/resource?serverId=home_r4&pretty=true&_summary=&resource=Observation",children:"link"})," to see the available targets to be filtered."]}),(0,r.jsxs)(n.p,{children:["In most Hapi FHIR APIs you can test the filtering for each resource in ",(0,r.jsx)(n.code,{children:"https://<HAPI_FHIR_API_URL>/resource"}),"."]})]})]})}function d(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>s});var r=t(7294);const a={},i=r.createContext(a);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);