"use strict";(self.webpackChunktm_docs=self.webpackChunktm_docs||[]).push([[348],{702:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return i},default:function(){return p},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return u}});var a=n(3117),r=(n(7294),n(3905));const o={id:"sql",title:"SQL"},i=void 0,l={unversionedId:"Data Connectors/sql",id:"Data Connectors/sql",title:"SQL",description:"The SQL connector offers support to common SQL dialects (PostgreSQL, MySQL, MariaDB, SQLite and MSSQL), and uses Sequelize under the hood to make the connections.",source:"@site/docs/02-Data Connectors/sql.md",sourceDirName:"02-Data Connectors",slug:"/Data Connectors/sql",permalink:"/trial-monitor/Data Connectors/sql",draft:!1,tags:[],version:"current",frontMatter:{id:"sql",title:"SQL"},sidebar:"tutorialSidebar",previous:{title:"Firebase",permalink:"/trial-monitor/Data Connectors/firebase"},next:{title:"Overview",permalink:"/trial-monitor/UI Definition/overview"}},s={},u=[{value:"Setting up a connection",id:"setting-up-a-connection",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Configuring the database structure",id:"configuring-the-database-structure",level:2}],c={toc:u};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The SQL connector offers support to common SQL dialects (PostgreSQL, MySQL, MariaDB, SQLite and MSSQL), and uses ",(0,r.kt)("a",{parentName:"p",href:"https://sequelize.org/master/manual/getting-started"},"Sequelize")," under the hood to make the connections."),(0,r.kt)("h2",{id:"setting-up-a-connection"},"Setting up a connection"),(0,r.kt)("p",null,"The database connection can be configured by defining individual connection parameters or a single connection URI in the ",(0,r.kt)("inlineCode",{parentName:"p"},"config")," property."),(0,r.kt)("p",null,"Using the connection URI:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"config: mysql://username:password@host:port/DatabaseName\n")),(0,r.kt)("p",null,"Or by passing the parameters individually using the ",(0,r.kt)("inlineCode",{parentName:"p"},"config")," property:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"config:\n  dialect: mariadb\n  database: sql_db\n  host: 172.18.1.27\n")),(0,r.kt)("p",null,"If you are using SQLite, you should do the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"config:\n  dialect: sqlite\n  storage: path/to/database.sqlite # Relative to config folder\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note that you have to manually install the ",(0,r.kt)("a",{parentName:"p",href:"https://sequelize.org/master/manual/getting-started.html"},"driver")," for your database of choice")),(0,r.kt)("h2",{id:"authentication"},"Authentication"),(0,r.kt)("p",null,"If required, in the configuration of each database include an object named ",(0,r.kt)("inlineCode",{parentName:"p"},"authentication")," with an ",(0,r.kt)("inlineCode",{parentName:"p"},"username")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"password")," properties:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"authentication:\n  username: email@example.org\n  password: mypassword\n")),(0,r.kt)("h2",{id:"configuring-the-database-structure"},"Configuring the database structure"),(0,r.kt)("p",null,"By default, the connector will try to generate the database models and their relationships. However, relations through an intermediate table might not be identified and must be defined manually. The ",(0,r.kt)("inlineCode",{parentName:"p"},"structure")," property enable us to manually define these relations."),(0,r.kt)("p",null,"Each table comprises a common set of properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"relations")," - an array of relations. A relation contains a:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"type")," - the type of relation, assuming as values: ",(0,r.kt)("inlineCode",{parentName:"li"},"belongsTo")," | ",(0,r.kt)("inlineCode",{parentName:"li"},"belongsToMany")," | ",(0,r.kt)("inlineCode",{parentName:"li"},"hasMany")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"target")," - the table to which it is linked to"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"through")," - only used in ",(0,r.kt)("inlineCode",{parentName:"li"},"N-M")," relations, since it reflects the intermediate table that relates both"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"FK")," - the name of the foreign key (a relation of type ",(0,r.kt)("inlineCode",{parentName:"li"},"hasMany")," does not require the definition of this property)")))))}p.isMDXComponent=!0},3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(f,i(i({ref:t},c),{},{components:n})):a.createElement(f,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);